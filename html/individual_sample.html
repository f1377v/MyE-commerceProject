<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Review Freak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
      //anonymous (function without name) self-invoking function to wrap our code and create an enclosed scope around it
      objectClass = function(){
        let params = new URLSearchParams(location.search);
        var id = params.get('id');
        return {id: id};
      }();

      function individualMap(){
        // Constructing the map by passing a DOM location and options object
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 12,
          center: {lat: 59.9362384705039, lng: 30.19232525792222},
        });

        //default value for individual object page for grades
        var position = {lat: 59.9332384705039, lng:30.23232525792222};
        if (objectClass.id === "1"){
          position = {lat: 59.9362384705039, lng:30.19232525792222};
        }
        else if(objectClass.id === "2"){
          position = {lat: 59.94141282208564, lng:30.263564729357767};
        }
        else if(objectClass.id === "3"){
          position = {lat: 59.939177197629455, lng:30.273554411974955};
        }
        console.log(position);
        var marker = new google.maps.Marker({
            position: position,
            map: map,
          });
      }
    </script>
  </head>
  <body>
    <nav>
      <input type="checkbox" id="bars">
      <label for="bars" class="barsbtn">
        <i class="fas fa-bars"></i>
      </label>
      <label class="logo">Review Freak</label>
      <ul>
        <li><a class="active" href="index.html">Home</a></li>
        <li><a href="search.html">Search</a></li>
        <li><a href="submission.html">Submit</a></li>
        <li><a href="signup.html">Sign Up</a></li>
        <li><a href="#">Login</a></li>
      </ul>
    </nav>
    <!--It's not a good approch to deal directly with body So, create a wrapper container and make it a full-window height.-->
    <div style="background: url(assets/images/ReviewTimeTransparent.png)" class="min-height bckground-cover"> 
      <div class="container py-5">
          <header class="text-center text-dark py-5">
              <h1 class="display-4 font-weight-bold mb-4">If It Exists, We Have Reviews For It</h1>
              <p style="font-size:1.25rem;font-weight:700">Join and start helping the community</p>
          </header>
      </div>
    </div>

    <div class="Individual"></div>

    <div class="footer-custom">
      <footer>
          <div class="SocialMedia">
            <a href="#"><i class="icon ion-social-instagram"></i></a>
            <a href="#"><i class="icon ion-social-snapchat"></i></a>
            <a href="#"><i class="icon ion-social-twitter"></i></a>
            <a href="#"><i class="icon ion-social-facebook"></i></a>
          </div>
          <ul class="list-inline">
              <li class="list-inline-item"><a href="#">Home</a></li>
              <li class="list-inline-item"><a href="#">Services</a></li>
              <li class="list-inline-item"><a href="#">About</a></li>
              <li class="list-inline-item"><a href="#">Terms</a></li>
              <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
          </ul>
          <p class="copyright">Farzad & Pedram Â© 2021</p>
      </footer>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script>
      //Populates the individual object html page accordingly
      // let params = new URLSearchParams(location.search);
      // var id = params.get('id')
      var elementsArray = document.getElementsByClassName("Individual");
      elementsArray[0].innerHTML = 
      "<div> " +
        "<h1>" +  "Object " + objectClass.id + "<i>" + " (" + "Object " + objectClass.id + " lat" + "," + "Object " + objectClass.id + " long" + ")" + "</i>" + "</h1>" +
        "<p>" + "Explanaition for object " + objectClass.id + "</p>" +
        "<div " + "id=" + "map" + ">" + "</div>" + 
        " <br>" +
        "<div " + "class=" + "Reviews>" +
          "<p>"+ "Andy's Review: " + Math.round(Math.random() * 10) + "/10" + "</p>" +
          "<p>" + "Pam's Review: "+ Math.round(Math.random() * 10) + "/10" + "</p>" + 
          "<p>" + "Jim's Review: " + Math.round(Math.random() * 10) + "/10" + "</p>" + 
        "</div>" +
      "</div>"
    </script>

    <!-- Loading google maps api-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAm0ZHNBRqGaLQZmcToRBLz4fy_RnJeh_4&callback=individualMap&libraries=&v=weekly" async></script>
  </body>
</html>